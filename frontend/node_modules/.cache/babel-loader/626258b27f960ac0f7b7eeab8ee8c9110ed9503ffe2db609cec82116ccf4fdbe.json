{"ast":null,"code":"import _regeneratorRuntime from\"/Users/loicpeyramaure/Gw2 Talk/Gw2-Talk/frontend/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"/Users/loicpeyramaure/Gw2 Talk/Gw2-Talk/frontend/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _defineProperty from\"/Users/loicpeyramaure/Gw2 Talk/Gw2-Talk/frontend/node_modules/@babel/runtime/helpers/esm/defineProperty.js\";import _objectSpread from\"/Users/loicpeyramaure/Gw2 Talk/Gw2-Talk/frontend/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import _slicedToArray from\"/Users/loicpeyramaure/Gw2 Talk/Gw2-Talk/frontend/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{useState}from\"react\";import logo from\"./images/logo.svg\";import{Link}from\"react-router-dom\";import Validation from\"./LoginValidation\";import axios from'axios';/**\n * Renders the Login component.\n * \n * @returns {JSX.Element} The rendered Login component.\n */import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";function Login(){// State variables\nvar _useState=useState({email:'',password:''}),_useState2=_slicedToArray(_useState,2),values=_useState2[0],setValues=_useState2[1];var _useState3=useState({}),_useState4=_slicedToArray(_useState3,2),errors=_useState4[0],setErrors=_useState4[1];/**\n   * Handles input change event and updates the corresponding state value.\n   * \n   * @param {Event} event - The input change event.\n   */var handleInput=function handleInput(event){setValues(function(prev){return _objectSpread(_objectSpread({},prev),{},_defineProperty({},event.target.name,event.target.value));});};/**\n   * Handles form submission event and performs login.\n   * \n   * @param {Event} event - The form submission event.\n   */var handleSubmit=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(event){var response;return _regeneratorRuntime().wrap(function _callee$(_context){while(1)switch(_context.prev=_context.next){case 0:event.preventDefault();setErrors(Validation(values));_context.prev=2;_context.next=5;return axios.post(\"\".concat(process.env.REACT_APP_API_BASE_URL,\"/login\"),values);case 5:response=_context.sent;localStorage.setItem('token',response.data.token);window.location.href='/account';_context.next=12;break;case 10:_context.prev=10;_context.t0=_context[\"catch\"](2);case 12:case\"end\":return _context.stop();}},_callee,null,[[2,10]]);}));return function handleSubmit(_x){return _ref.apply(this,arguments);};}();// Render the Login component\nreturn/*#__PURE__*/_jsx(\"div\",{className:\"d-flex justify-content-center align-items-center bg-gray vh-100 vw_100\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"text-center\",children:[/*#__PURE__*/_jsx(\"img\",{src:logo,alt:\"logo\",className:\"w-100 mb-4\"}),/*#__PURE__*/_jsxs(\"form\",{onSubmit:handleSubmit,children:[/*#__PURE__*/_jsxs(\"div\",{className:\"p-3 border-0\",children:[/*#__PURE__*/_jsx(\"input\",{className:\"placeholderss text-danger text-center p-1 mx-auto rounded-4 border border-danger w-100\",type:\"email\",placeholder:\"Adresse Email\",name:\"email\",onChange:handleInput}),errors.email&&/*#__PURE__*/_jsx(\"div\",{className:\"text-danger\",children:errors.email})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"w-100 p-3 mb-6\",children:[/*#__PURE__*/_jsx(\"input\",{className:\"placeholderss text-danger text-center p-1 mx-auto rounded-4 border border-danger w-100\",type:\"password\",placeholder:\"Votre mot de passe\",name:\"password\",onChange:handleInput}),errors.password&&/*#__PURE__*/_jsx(\"div\",{className:\"text-danger\",children:errors.password})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"d-flex align-items-center flex-column\",children:[/*#__PURE__*/_jsx(\"button\",{style:{marginTop:'3vh'},type:\"submit\",className:\"w-50 button_co d-block btn rounded-4 btn-succes text-white bg-danger text-white\",children:\"Se connecter\"}),/*#__PURE__*/_jsx(Link,{to:\"/signup\",className:\"btn btn-default text-danger\",children:\"Cr\\xE9er un compte\"})]})]})]})});}export default Login;","map":{"version":3,"names":["React","useState","logo","Link","Validation","axios","jsx","_jsx","jsxs","_jsxs","Login","_useState","email","password","_useState2","_slicedToArray","values","setValues","_useState3","_useState4","errors","setErrors","handleInput","event","prev","_objectSpread","_defineProperty","target","name","value","handleSubmit","_ref","_asyncToGenerator","_regeneratorRuntime","mark","_callee","response","wrap","_callee$","_context","next","preventDefault","post","concat","process","env","REACT_APP_API_BASE_URL","sent","localStorage","setItem","data","token","window","location","href","t0","stop","_x","apply","arguments","className","children","src","alt","onSubmit","type","placeholder","onChange","style","marginTop","to"],"sources":["/Users/loicpeyramaure/Gw2 Talk/Gw2-Talk/frontend/src/Login.js"],"sourcesContent":["import React, { useState } from \"react\";\nimport logo from \"./images/logo.svg\";\nimport { Link } from \"react-router-dom\";\nimport Validation from \"./LoginValidation\";\nimport axios from 'axios';\n\n/**\n * Renders the Login component.\n * \n * @returns {JSX.Element} The rendered Login component.\n */\nfunction Login() {\n  // State variables\n  const [values, setValues] = useState({\n    email: '',\n    password: ''\n  });\n  const [errors, setErrors] = useState({});\n\n  /**\n   * Handles input change event and updates the corresponding state value.\n   * \n   * @param {Event} event - The input change event.\n   */\n  const handleInput = (event) => { \n    setValues(prev => ({...prev, [event.target.name]: event.target.value}));\n  };\n\n  /**\n   * Handles form submission event and performs login.\n   * \n   * @param {Event} event - The form submission event.\n   */\n  const handleSubmit = async (event) => {\n    event.preventDefault();\n    setErrors(Validation(values));\n\n    try {\n      const response = await axios.post(`${process.env.REACT_APP_API_BASE_URL}/login`, values);\n      localStorage.setItem('token', response.data.token);\n      window.location.href = '/account';\n    } catch (error) {\n      // Handle error\n    }\n  };\n\n  // Render the Login component\n  return (\n    <div className=\"d-flex justify-content-center align-items-center bg-gray vh-100 vw_100\">\n      <div className=\"text-center\">\n        {/* Logo */}\n        <img src={logo} alt=\"logo\" className=\"w-100 mb-4\" />\n\n        {/* Form */}\n        <form onSubmit={handleSubmit}>\n          <div className=\"p-3 border-0\">\n            <input\n              className=\"placeholderss text-danger text-center p-1 mx-auto rounded-4 border border-danger w-100\"\n              type=\"email\"\n              placeholder=\"Adresse Email\"\n              name='email'\n              onChange={handleInput}\n            />\n            {errors.email && <div className='text-danger'>{errors.email}</div>}\n          </div>\n        \n          <div className=\"w-100 p-3 mb-6\">\n            <input\n              className=\"placeholderss text-danger text-center p-1 mx-auto rounded-4 border border-danger w-100\"\n              type=\"password\"\n              placeholder=\"Votre mot de passe\"\n              name='password'\n              onChange={handleInput}\n            />\n            {errors.password && <div className='text-danger'>{errors.password}</div>}\n          </div>\n\n          <div className=\"d-flex align-items-center flex-column\">\n            <button style={{ marginTop: '3vh' }} type='submit' className=\"w-50 button_co d-block btn rounded-4 btn-succes text-white bg-danger text-white\">\n              Se connecter\n            </button>\n\n            <Link to=\"/signup\" className=\"btn btn-default text-danger\">\n              Cr√©er un compte\n            </Link>\n          </div>\n        </form>\n      </div>\n    </div>\n  );\n}\n\nexport default Login;\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}